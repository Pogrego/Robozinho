
 
#define MOTOR1  PA8  // Motor 1 Interrupt Pin - INT 0
 
unsigned int counter1 = 0;
float diskslots = 20;  // Change to match value of encoder disk
 
// Motor 1 pulse count ISR
void ISR_count1()  
{
  counter1++;  // increment Motor 1 counter value
} 

 
void setup() 
{
  float ti;
  float tf;
  float rotation1;
  float counter1;
  digitalPinToInterrupt(MOTOR1);
  Serial.begin(9600);
  ti = millis();
  
} 
 
void loop()
{
  tf = millis();  
  if (tf-ti == 60000);
  {
    float rotation1 = (counter1 / diskslots) * 60.00;
    ti = millis();  
  } 
       
}
